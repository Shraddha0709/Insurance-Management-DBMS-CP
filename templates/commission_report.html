<!-- templates/commission_report.html -->
{% extends "base.html" %}
{% block title %}Commission Report - IMS{% endblock %}

{% block content %}
<h1 class="mb-2">Commission Report</h1>

<div class="card">
    <div style="background: var(--light); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1.5rem;">
        <h2 style="margin: 0; color: var(--primary);">Total Commission: ₹{{ "{:,.2f}".format(total) }}</h2>
    </div>

    {% if policies %}
    <table>
        <thead>
            <tr>
                <th>Policy No</th>
                <th>Premium (₹)</th>
                <th>Term (Years)</th>
                <th>Commission (₹)</th>
            </tr>
        </thead>
        <tbody>
            {% for policy in policies %}
            <tr>
                <td>{{ policy.Policy_no }}</td>
                <td>{{ "{:,.2f}".format(policy.Premium) }}</td>
                <td>{{ policy.Term }}</td>
                <td>{{ "{:,.2f}".format(policy.Commission) }}</td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot>
            <tr style="font-weight: bold; background: var(--light);">
                <td colspan="3" style="text-align: right;">Total Commission:</td>
                <td>₹{{ "{:,.2f}".format(total) }}</td>
            </tr>
        </tfoot>
    </table>
    {% else %}
    <p class="text-center">No policies found. Create policies to earn commission!</p>
    {% endif %}
</div>
{% endblock %}

